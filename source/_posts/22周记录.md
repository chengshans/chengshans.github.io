---
title: 111
date: 2024-05-27 14:00:00
type: 工作
comments: 
description: 
cover: https://gitee.com/mmlya/hexo_images/raw/master/imgs/202405271357845.jpg

---

## 1、需求：获取git分支最后一次部署信息。



（1）安装GitPython库：

```shell
pip install gitpython
```

（2）获取当前分支对象

```python
from git import Repo

repo = Repo('.')
current_branch = repo.active_branch
commit_msg = current_branch.commit.message

```

（3）获取指定分支对象，以 master 分支为例：

```python
for ref in repo.heads:
    if ref.name == "master":
        master_branch = ref
        commit_msg = master_branch.commit.message
```

参考：[checkout-or-list-remote-branches-in-gitpython](https://stackoverflow.com/questions/2473035/checkout-or-list-remote-branches-in-gitpython)



## 2、





